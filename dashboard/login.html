<!DOCTYPE html>
<html>
  <head>
    <title>Sign-Up with OTP</title>
    <!-- Firebase JavaScript library -->
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-firestore.js"></script>
  </head>
  <body>
    <h1>Sign-Up with OTP</h1>

    <label for="name">Name:</label>
    <input type="text" id="name" name="name" /><br /><br />

    <label for="phone">Phone Number:</label>
    <input type="text" id="phone" name="phone" /><br /><br />

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" /><br /><br />

    <button type="submit" onclick="signUp()">Sign Up</button>
  </body>
  <!-- <script type="module" src="/Simple-Chrome-Extensions/dashboard/module.js"></script> -->
  <script>
   
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyAlkqBseMsKLwP4HsSqATHSry17PQqYNTg",
      authDomain: "yuwe-fitness.firebaseapp.com",
      databaseURL:
        "https://yuwe-fitness-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "yuwe-fitness",
      storageBucket: "yuwe-fitness.appspot.com",
      messagingSenderId: "411480626389",
      appId: "1:411480626389:web:accc7f74bb1568d3007e5c",
      measurementId: "G-V4G0LYXZX6",
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    function signUp() {
      console.log("hi");
      var name = document.getElementById("name").value;
      var phone = document.getElementById("phone").value;
      var password = document.getElementById("password").value;

      const appVerifier = window.recaptchaVerifier;
      // const auth = getAuth();

      // Verify that all fields are filled in
      if (!name || !phone || !password) {
        alert("Please fill in all fields");
        return;
      }

      // // Call Firebase's signInWithPhoneNumber() method
      // firebase
      //   .auth()
      //   .signInWithPhoneNumber(phone, appVerifier)
      //   .then(function (confirmationResult) {
      //     // SMS sent. Prompt user to type the code from the message, then sign the
      //     // user in with confirmationResult.confirm(code).
      //     var code = prompt(
      //       "Please enter the verification code sent to your phone"
      //     );
      //     return confirmationResult.confirm(code);
      //   })
      //   .then(function (result) {
      //     // User signed in successfully
      //     alert("Sign up successful");
      //   })
      //   .catch(function (error) {
      //     // Error occurred while signing up user
      //     alert(error.message);
      //   });




      // Send a verification code to the user's phone
      firebase.auth.sendSignInLinkToPhoneNumber(phone, actionCodeSettings)
  .then(function() {
    // The verification code has been sent to the user's phone
    console.log("success");
  })
  .catch(function(error) {
    // An error occurred while sending the verification code
    console.log(error);
  });

// Sign the user in using the verification code they received on their phone
firebase.auth.signInWithPhoneNumber(phone, verificationCode)
  .then(function(result) {
    // The user has been signed in
    console.log("signin succes");
  })
  .catch(function(error) {
    // An error occurred while signing the user in
    console.log("signin error");
  });


    }
  </script>
</html>
